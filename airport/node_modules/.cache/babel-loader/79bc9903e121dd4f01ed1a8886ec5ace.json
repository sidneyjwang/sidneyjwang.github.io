{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sidneywang/Documents/GitHub/react-with-apis/finished-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sidneywang/Documents/GitHub/react-with-apis/finished-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sidneywang/Documents/GitHub/react-with-apis/finished-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./AirportInfo.css';import Quotes from'./Quotes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AirportInfo(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),quotes=_useState2[0],setQuotes=_useState2[1];// const [places,setPlaces] = useState([])\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),inputQuery=_useState4[0],setInputQuery=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),destQuery=_useState6[0],setDestQuery=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showQuotes=_useState8[0],setShowQuotes=_useState8[1];function handleSubmit(e){e.preventDefault();function fetchMyAPI(){return _fetchMyAPI.apply(this,arguments);}function _fetchMyAPI(){_fetchMyAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var reqOptions,originInput,originResponse,destinationInput,destinationResponse,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reqOptions={method:'GET',headers:{\"x-rapidapi-key\":\"d5df66e262msh0ee4ae21cf5eab8p14a4dcjsn5895e2e3c26f\",\"x-rapidapi-host\":\"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com\",\"useQueryString\":true}};_context.next=3;return fetch(\"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?\"+new URLSearchParams({query:inputQuery}),reqOptions);case 3:originInput=_context.sent;_context.next=6;return originInput.json();case 6:originInput=_context.sent;originResponse=originInput.Places[0].PlaceId;if(!(originResponse.length!==7)){_context.next=10;break;}return _context.abrupt(\"return\");case 10:_context.next=12;return fetch(\"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?\"+new URLSearchParams({query:destQuery}),reqOptions);case 12:destinationInput=_context.sent;_context.next=15;return destinationInput.json();case 15:destinationInput=_context.sent;destinationResponse=destinationInput.Places[0].PlaceId;console.log(destinationResponse);if(!(destinationResponse.length!==7)){_context.next=20;break;}return _context.abrupt(\"return\");case 20:_context.next=22;return fetch(\"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsedates/v1.0/US/USD/en-US/\"+originResponse+\"/\"+destinationResponse+\"/2021-03-19\",reqOptions);case 22:response=_context.sent;_context.next=25;return response.json();case 25:response=_context.sent;setQuotes(response.Quotes);// setPlaces(response.Places)\ncase 27:case\"end\":return _context.stop();}}},_callee);}));return _fetchMyAPI.apply(this,arguments);}fetchMyAPI();setShowQuotes(true);// setInputQuery(\"\")\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"airportinfo\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"originInput\",children:\"City of Origin:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"originInput\",value:inputQuery,onChange:function onChange(e){return setInputQuery(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"destinationInput\",children:\"City Destination:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"destinationInput\",value:destQuery,onChange:function onChange(e){return setDestQuery(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"search\",children:\"Submit\"})]}),showQuotes?/*#__PURE__*/_jsx(Quotes,{quotes:quotes}):/*#__PURE__*/_jsx(_Fragment,{})]});}export default AirportInfo;","map":{"version":3,"sources":["/Users/sidneywang/Documents/GitHub/react-with-apis/finished-app/src/components/AirportInfo.js"],"names":["React","useState","Quotes","AirportInfo","quotes","setQuotes","inputQuery","setInputQuery","destQuery","setDestQuery","showQuotes","setShowQuotes","handleSubmit","e","preventDefault","fetchMyAPI","reqOptions","method","headers","fetch","URLSearchParams","query","originInput","json","originResponse","Places","PlaceId","length","destinationInput","destinationResponse","console","log","response","target","value"],"mappings":"+hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,6IAEA,QAASC,CAAAA,WAAT,EAAuB,eACQF,QAAQ,CAAC,EAAD,CADhB,wCACZG,MADY,eACLC,SADK,eAEnB;AAFmB,eAGgBJ,QAAQ,CAAC,EAAD,CAHxB,yCAGZK,UAHY,eAGDC,aAHC,8BAIeN,QAAQ,CAAC,EAAD,CAJvB,yCAIZO,SAJY,eAIDC,YAJC,8BAKgBR,QAAQ,CAAC,KAAD,CALxB,yCAKZS,UALY,eAKDC,aALC,eAOnB,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GADqB,QAENC,CAAAA,UAFM,wIAErB,2NACUC,UADV,CACuB,CACfC,MAAM,CAAE,KADO,CAEfC,OAAO,CAAE,CACL,iBAAkB,oDADb,CAEL,kBAAmB,uDAFd,CAGL,iBAAkB,IAHb,CAFM,CADvB,uBAS4BC,CAAAA,KAAK,CAAC,4GAA8G,GAAIC,CAAAA,eAAJ,CAAoB,CAACC,KAAK,CAAEf,UAAR,CAApB,CAA/G,CAAyJU,UAAzJ,CATjC,QASQM,WATR,qCAUwBA,CAAAA,WAAW,CAACC,IAAZ,EAVxB,QAUID,WAVJ,eAWQE,cAXR,CAWyBF,WAAW,CAACG,MAAZ,CAAmB,CAAnB,EAAsBC,OAX/C,MAYQF,cAAc,CAACG,MAAf,GAA0B,CAZlC,2FAaiCR,CAAAA,KAAK,CAAC,4GAA8G,GAAIC,CAAAA,eAAJ,CAAoB,CAACC,KAAK,CAAEb,SAAR,CAApB,CAA/G,CAAwJQ,UAAxJ,CAbtC,SAaQY,gBAbR,sCAc6BA,CAAAA,gBAAgB,CAACL,IAAjB,EAd7B,SAcIK,gBAdJ,eAeQC,mBAfR,CAe8BD,gBAAgB,CAACH,MAAjB,CAAwB,CAAxB,EAA2BC,OAfzD,CAgBII,OAAO,CAACC,GAAR,CAAYF,mBAAZ,EAhBJ,KAiBQA,mBAAmB,CAACF,MAApB,GAA+B,CAjBvC,2FAkByBR,CAAAA,KAAK,CAAC,2GAA6GK,cAA7G,CAA8H,GAA9H,CAAoIK,mBAApI,CAA0J,aAA3J,CAA0Kb,UAA1K,CAlB9B,SAkBQgB,QAlBR,sCAmBqBA,CAAAA,QAAQ,CAACT,IAAT,EAnBrB,SAmBIS,QAnBJ,eAoBI3B,SAAS,CAAC2B,QAAQ,CAAC9B,MAAV,CAAT,CACA;AArBJ,uDAFqB,6CAyBrBa,UAAU,GACVJ,aAAa,CAAC,IAAD,CAAb,CACA;AACH,CAED,mBACI,aAAK,SAAS,CAAC,aAAf,wBACG,cAAM,QAAQ,CAAEC,YAAhB,wBACK,cAAO,OAAO,CAAC,aAAf,6BADL,cAEK,cAAO,EAAE,CAAC,aAAV,CAAwB,KAAK,CAAEN,UAA/B,CAA2C,QAAQ,CAAE,kBAAAO,CAAC,QAAIN,CAAAA,aAAa,CAACM,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAjB,EAAtD,CAAyF,QAAQ,KAAjG,EAFL,cAGK,cAAO,OAAO,CAAC,kBAAf,+BAHL,cAIK,cAAO,EAAE,CAAC,kBAAV,CAA6B,KAAK,CAAE1B,SAApC,CAA+C,QAAQ,CAAE,kBAAAK,CAAC,QAAIJ,CAAAA,YAAY,CAACI,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAhB,EAA1D,CAA4F,QAAQ,KAApG,EAJL,cAKK,eAAQ,SAAS,CAAC,QAAlB,oBALL,GADH,CAQKxB,UAAU,cAAG,KAAC,MAAD,EAAQ,MAAM,CAAEN,MAAhB,EAAH,cAAuC,kBARtD,GADJ,CAaH,CACD,cAAeD,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport './AirportInfo.css';\nimport Quotes from './Quotes';\n\nfunction AirportInfo() { \n    const [quotes,setQuotes] = useState([])\n    // const [places,setPlaces] = useState([])\n    const [inputQuery,setInputQuery] = useState(\"\")\n    const [destQuery, setDestQuery] = useState(\"\")\n    const [showQuotes,setShowQuotes] = useState(false)\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        async function fetchMyAPI() {\n            const reqOptions = {\n                method: 'GET',\n                headers: {\n                    \"x-rapidapi-key\": \"d5df66e262msh0ee4ae21cf5eab8p14a4dcjsn5895e2e3c26f\",\n                    \"x-rapidapi-host\": \"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com\",\n                    \"useQueryString\": true\n                }\n            }\n            let originInput = await fetch(\"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?\" + new URLSearchParams({query: inputQuery}), reqOptions)\n            originInput = await originInput.json()\n            let originResponse = originInput.Places[0].PlaceId\n            if (originResponse.length !== 7) return\n            let destinationInput = await fetch(\"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?\" + new URLSearchParams({query: destQuery}), reqOptions)\n            destinationInput = await destinationInput.json()\n            let destinationResponse = destinationInput.Places[0].PlaceId\n            console.log(destinationResponse)\n            if (destinationResponse.length !== 7) return\n            let response = await fetch(\"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsedates/v1.0/US/USD/en-US/\" + originResponse + \"/\" + destinationResponse + \"/2021-03-19\", reqOptions) //+ new URLSearchParams({inputQuery: inputQuery}), reqOptions)\n            response = await response.json()\n            setQuotes(response.Quotes)\n            // setPlaces(response.Places)\n        }\n        fetchMyAPI()\n        setShowQuotes(true)\n        // setInputQuery(\"\")\n    }\n\n    return(\n        <div className=\"airportinfo\">\n           <form onSubmit={handleSubmit}>\n                <label htmlFor=\"originInput\">City of Origin:</label>\n                <input id=\"originInput\" value={inputQuery} onChange={e => setInputQuery(e.target.value)} required/>\n                <label htmlFor=\"destinationInput\">City Destination:</label>\n                <input id=\"destinationInput\" value={destQuery} onChange={e => setDestQuery(e.target.value)} required/>\n                <button className=\"search\">Submit</button>\n           </form>\n           { showQuotes ? <Quotes quotes={quotes}></Quotes> : <></>}\n           {/* { showPlaces ? <Places places={places}></Places> : <></>} */}\n        </div>\n    )\n}\nexport default AirportInfo;"]},"metadata":{},"sourceType":"module"}